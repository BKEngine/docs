<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>快速入门</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.github{padding:20px;font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Segoe UI",AppleSDGothicNeo-Medium,'Malgun Gothic',Arial,freesans,sans-serif;font-size:15px;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.github a{color:#3269a0}.github a:hover{color:#4183c4}.github h2{border-bottom:1px solid #e6e6e6;line-height:1.6}.github h6{color:#777}.github hr{border:1px solid #e6e6e6}.github pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.github blockquote>code,.github h1>code,.github h2>code,.github h3>code,.github h4>code,.github h5>code,.github h6>code,.github li>code,.github p>code,.github td>code{background-color:rgba(0,0,0,.07);font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .5em;border:0}.github blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic}.github table{background-color:#fafafa}.github table tr td,.github table tr th{border:1px solid #e6e6e6}.github table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#3f3f3f;color:#dcdcdc;-webkit-text-size-adjust:none}.clojure .hljs-attribute,.css .hljs-class,.css .hljs-id,.hljs-keyword,.hljs-request,.hljs-status,.hljs-tag,.lisp .hljs-title,.nginx .hljs-title{color:#e3ceab}.django .hljs-filter .hljs-argument,.django .hljs-template_tag,.django .hljs-variable{color:#dcdcdc}.hljs-date,.hljs-number{color:#8cd0d3}.apache .hljs-sqbracket,.dos .hljs-envvar,.dos .hljs-stream,.hljs-variable{color:#efdcbc}.diff .hljs-change,.dos .hljs-flow,.hljs-literal,.python .exception,.python .hljs-built_in,.tex .hljs-special{color:#efefaf}.diff .hljs-chunk,.hljs-subst{color:#8f8f8f}.apache .hljs-tag,.diff .hljs-header,.dos .hljs-keyword,.hljs-decorator,.hljs-prompt,.hljs-title,.hljs-type,.nginx .hljs-built_in,.ruby .hljs-class .hljs-parent,.tex .hljs-command{color:#efef8f}.dos .hljs-winutils,.ruby .hljs-string,.ruby .hljs-symbol,.ruby .hljs-symbol .hljs-string{color:#dca3a3}.apache .hljs-cbracket,.coffeescript .hljs-attribute,.css .hljs-rules .hljs-value,.diff .hljs-deletion,.hljs-attr_selector,.hljs-built_in,.hljs-javadoc,.hljs-pragma,.hljs-preprocessor,.hljs-pseudo,.hljs-string,.hljs-tag .hljs-value,.smalltalk .hljs-array,.smalltalk .hljs-class,.smalltalk .hljs-localvars,.tex .hljs-formula{color:#cc9393}.diff .hljs-addition,.hljs-annotation,.hljs-comment,.hljs-doctype,.hljs-pi,.hljs-shebang{color:#7f9f7f}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .css,.xml .hljs-cdata,.xml .javascript,.xml .vbscript{opacity:.5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:2px;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:2px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:1em}.MathJax_MenuRadioCheck.RTL{right:1em;left:auto}.MathJax_MenuLabel{padding:2px 2em 4px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #CCC;margin:4px 1px 0}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:Highlight;color:HighlightText}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
  <style type="text/css">
	body{
		margin: auto!important;
		max-width: 960px;
	}
  </style>
</head>
<body class="markdown github">
<h1 id="快速入门"><a name="快速入门" href="#快速入门"></a>快速入门</h1><p class="toc" style="undefined"></p><ul>
<li><ul>
<li><span class="title">
<a href="#初识bkengine" title="初识BKEngine">初识BKEngine</a>
</span>
<!--span class="number">
0
</span-->
</li>
<li><span class="title">
<a href="#开发工具" title="开发工具">开发工具</a>
</span>
<!--span class="number">
1
</span-->
</li>
<li><span class="title">
<a href="#你好，世界！" title="你好，世界！">你好，世界！</a>
</span>
<!--span class="number">
2
</span-->
</li>
<li><span class="title">
<a href="#修改标题和分辨率" title="修改标题和分辨率">修改标题和分辨率</a>
</span>
<!--span class="number">
3
</span-->
</li>
<li><span class="title">
<a href="#创建文字框" title="创建文字框">创建文字框</a>
</span>
<!--span class="number">
4
</span-->
</li>
<li><span class="title">
<a href="#修改文字样式" title="修改文字样式">修改文字样式</a>
</span>
<!--span class="number">
5
</span-->
</li>
<li><span class="title">
<a href="#显示背景" title="显示背景">显示背景</a>
</span>
<!--span class="number">
6
</span-->
</li>
<li><span class="title">
<a href="#显示人物立绘" title="显示人物立绘">显示人物立绘</a>
</span>
<!--span class="number">
7
</span-->
</li>
<li><span class="title">
<a href="#将文字作为精灵显示" title="将文字作为精灵显示">将文字作为精灵显示</a>
</span>
<!--span class="number">
8
</span-->
</li>
<li><span class="title">
<a href="#从屏幕移除精灵或文字精灵" title="从屏幕移除精灵或文字精灵">从屏幕移除精灵或文字精灵</a>
</span>
<!--span class="number">
9
</span-->
</li>
<li><span class="title">
<a href="#宏（macro）" title="宏（Macro）">宏（Macro）</a>
</span>
<!--span class="number">
10
</span-->
</li>
<li><span class="title">
<a href="#声音、音乐和音效" title="声音、音乐和音效">声音、音乐和音效</a>
</span>
<!--span class="number">
11
</span-->
</li>
<li><span class="title">
<a href="#尾声" title="尾声">尾声</a>
</span>
<!--span class="number">
12
</span-->
</li>
</ul>
</li>

</ul>
<p></p><h2 id="初识bkengine"><a name="初识bkengine" href="#初识bkengine"></a>初识BKEngine</h2><p>BKEngine是面包工坊开发的跨平台AVG游戏引擎，同时支持三大桌面平台（Win、Linux、OSX）和两大移动平台（iOS、Android）。本教程将带你快速了解如何使用 BKEngine 进行游戏制作。</p><h2 id="开发工具"><a name="开发工具" href="#开发工具"></a>开发工具</h2><p>在本教程中，介绍使用面包工坊官方的 BKECreator 开发工具进行游戏制作。</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-1.PNG" alt="BKE Creator"></p><p>这就是BKE Creator的基本界面。左侧选择文件，右侧编辑内容，是不是很容易理解？</p><h2 id="你好，世界！"><a name="你好，世界！" href="#你好，世界！"></a>你好，世界！</h2><p>启动BKE Creator，从左侧双击打开main.bkscr文件，你会看到如上图显示的内容，只有一行文字。<br>我们称<code>*main</code>为一个<strong>标签</strong>，现在你只需要记住这个名字就可以了，以后的内容中将详细讲解。<br>下面，尝试将其改为：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
你好，世界！[p]
@quit
</code></pre>">*main
你好，世界！[p]
@quit
</code></pre><p>你可以点击右侧中部的绿色三角，启动调试功能，点击试试看！</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-2.PNG" alt="你好，世界！"></p><p>这就是AVG游戏引擎的基本功能——打印文字。</p><h2 id="修改标题和分辨率"><a name="修改标题和分辨率" href="#修改标题和分辨率"></a>修改标题和分辨率</h2><p>现在，Creator 默认的游戏分辨率是800*600，而下载的素材是为1280*720分辨率制作的。800*600是较为传统的AVG游戏分辨率，现在大家的电脑、手机分辨率越来越高，且多为宽屏，所有我们更推荐使用1280*720分辨率制作你的游戏。</p><p>双击Creator左侧的<code>config.bkpsr</code>，出现游戏设置对话框。</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-3.PNG" alt="游戏设置对话框"></p><p>在这里，你可以设置游戏名称、分辨率等重要参数。请将游戏名称改为<code>我的第一个游戏</code>，分辨率改为<code>1280, 720</code>，并点击保存。<br>由于修改了分辨率，我们需要清空旧有存档，请从文件夹中找到工程所在的目录，删除其下的<code>SaveData</code>文件夹。<br>再次点击绿色三角调试运行，你会发现窗口变大了，并且标题改成了「我的第一个游戏」。</p><h2 id="创建文字框"><a name="创建文字框" href="#创建文字框"></a>创建文字框</h2><p>我们已经介绍了如何在游戏窗口中打印一行文字，但光是这样还不够，我们需要让文字显示在我们需要的位置，并且加上文字框图片，调整字号等。<strong><a href="../examples/textwindow.png">点击此处下载所需的素材文件</a></strong></p><p>在Creator左侧的<code>资源</code>上右击，选择<code>添加目录</code>，在弹出的对话框中（工程目录下）创建<code>ui</code>文件夹，并将之前下载的<code>textwindow.png</code>放入该文件夹。再次右键选择<code>添加文件</code>，选择刚才放入的文件，点击确定。如图所示</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-4.PNG" alt=""></p><p>双击打开<code>main.bkscr</code>，将下面内容复制，并覆盖原有内容：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]
你好，世界！[p]
@quit
</code></pre>">*main
[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]
你好，世界！[p]
@quit
</code></pre><p>调试运行，可以看到文字已经在文字框中显示。这时白色的字体就不太合适了，可以通过之前的「游戏设置对话框」将文字改为黑色，黑色的颜色值为<code>0x000000</code>。<br>最终效果：<br><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-5.PNG" alt="最终效果"></p><p>你可以调整<code>textwindow</code>指令的<code>pos</code>或<code>rect</code>参数的数字大小，看看会发生什么？<br>P.S. 在<code>textwindow</code>或每个参数的末尾按分号键，可以弹出代码提示，按回车确认。试试更多功能吧！</p><h2 id="修改文字样式"><a name="修改文字样式" href="#修改文字样式"></a>修改文字样式</h2><p>本节介绍如何修改文字框内文字的字号和颜色等，使用<code>textstyle</code>指令。<br>将脚本改为：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]
你好，世界！[p]
[textstyle size=16 color=0xff0000]
你好，世界！现在，字号和颜色一定发生了改变。[p]
@quit
</code></pre>">*main
[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]
你好，世界！[p]
[textstyle size=<span class="hljs-number">16</span> color=<span class="hljs-number">0xff0000</span>]
你好，世界！现在，字号和颜色一定发生了改变。[p]
@quit
</code></pre><p>运行一下，你将看到效果。<br><code>textstyle</code>命令还能为文字增加粗体、斜体、删除线等等功能，请自行研究，我们会在后续的文档中详细说明。</p><h2 id="显示背景"><a name="显示背景" href="#显示背景"></a>显示背景</h2><p>说了这么半天，怎么能没有背景图片呢！下面将介绍如何用 BKEngine 显示背景图片。<br>在工程目录下创建<code>images</code>文件夹，并按照之前的步骤，添加到资源中，<strong><a href="../examples/BG32a_1280.jpg">点击此处下载所需的素材文件</a></strong>，并放入<code>images</code>文件夹内，在Creator的资源处右键添加。</p><p>之后，将下面内容全部复制进<code>main.bkscr</code>：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[sprite index=10 file=&quot;images/BG32a_1280&quot;]
[addto index=10 target=basic_layer zorder=0 pos=[0,0] opacity=255 ]

[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]
你好，世界！[p]
[textstyle size=16 color=0xff0000]
你好，世界！现在，字号和颜色一定发生了改变。[p]
@quit
</code></pre>">*main
[sprite index=<span class="hljs-number">10</span> file=<span class="hljs-string">"images/BG32a_1280"</span>]
[addto index=<span class="hljs-number">10</span> target=basic_layer zorder=<span class="hljs-number">0</span> pos=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>] opacity=<span class="hljs-number">255</span> ]

[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]
你好，世界！[p]
[textstyle size=<span class="hljs-number">16</span> color=<span class="hljs-number">0xff0000</span>]
你好，世界！现在，字号和颜色一定发生了改变。[p]
@quit
</code></pre><p>运行，可以看到游戏有了背景图片！</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-6.PNG" alt="背景图片效果"></p><p>我们再回过头来看看我们刚才到底做了什么。<br>在原有的对话之上，可以看到多出了新的两行命令。这两行命令就是用于添加图像的命令。在游戏里，无论是背景还是立绘，或是漫天飞舞的樱花花瓣，它们的本质都是图像；在BKE中，我们将这些图像统称为<code>精灵 （sprite）</code>。</p><p>在上面的第二行，我们就使用了<code>sprite</code>命令声明了一张图像。它的编号（index）是10号，图像文件是<code>images</code>文件夹下的<code>BG32a_1280</code>——等等，后缀名哪去了？<br>BKEngine 有很多人性化的地方，这就是其中之一。您可以不填写图像的后缀名，交由引擎来自动搜索，一旦BKEngine搜索到了符合名称的文件，就会自动使用这个文件。如果您在之前的<code>config.bkpsr</code>中指定了搜索图像文件的文件夹，那么您<em>甚至可以不写图像的所在文件夹</em>。</p><p>在声明了精灵后，接下来的步骤就是将它添加到屏幕上。第三行的<code>addto</code>命令作用就是将精灵添加到指定的位置。<br>在第二行用<code>sprite</code>声明了一个精灵后，第三行我们使用<code>addto</code>命令将其添加到了<code>basic_layer</code>这个层上。层级可以是用户自己定义的，也可以是BKE中默认定义的层。在BKE中，预先定义的层有两个，它们分别是<code>basic_layer</code>和<code>message_layer</code>。前者是基础层，后者是用于显示文字消息的层。它们的默认属性如下：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>basic_layer index=-1 zorder=0
message_layer index=-2 zorder=50
</code></pre>">basic_layer index=-<span class="hljs-number">1</span> zorder=<span class="hljs-number">0</span>
message_layer index=-<span class="hljs-number">2</span> zorder=<span class="hljs-number">50</span>
</code></pre><p>例子里面，我们将图片的 zorder 设置为了0。</p><p>在BKE中，对于处于同一层级的精灵来说， zorder 的值越大，精灵的显示位置就越靠近眼睛；对于不同层级的精灵来说，如果A精灵所在层级的 zorder要低于B精灵所在的层级，那么无论怎样增加A精灵的 zorder 值，A精灵都不可能显示在B精灵之前；对于同层级同 zorder 的精灵来说，后添加（addto）者在上。<br>在看完剩余的命令参数解释后，您可以自行添加一些图片到屏幕上，以更好的理解精灵的层级关系。</p><p>因为添加的图片是背景文件，所以我们将它的显示座标设置为<code>[0, 0]</code>， 以便于让图片正确的覆盖整个背景。但严格的来说，这个<code>[0, 0]</code>其实并不是指屏幕的左上角，而是指的是相对于<code>basic_layer</code>的偏移量。对于初学者而言，我们建议您将所有的目标层都设置为<code>basic_layer</code>，这样的话，所有的坐标都是相对于左上角原点<code>[0, 0]</code>来计算的（即和通常的坐标轴没有任何区别）。</p><p>最后一个参数是精灵的不透明度，值的范围从0到255，值越大越不透明。例子中的精灵是完全不透明的。</p><h2 id="显示人物立绘"><a name="显示人物立绘" href="#显示人物立绘"></a>显示人物立绘</h2><p>在了解了声明精灵和添加精灵之后，我们就可以如法炮制，再添加几个其它的精灵了。现在让我们添加上角色的立绘图像。<br>下载人物立绘：<a href="../examples/A_happy.png">立绘A</a> <a href="../examples/B_wordless.png">立绘B</a>  并保存到<code>images</code>文件夹中。</p><p>复制以下内容，替换<code>main.bkscr</code>：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[sprite index=10 file=&quot;images/BG32a_1280.jpg&quot;]
[addto index=10 target=basic_layer zorder=0 pos=[0,0] opacity=255]
[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]

[sprite index=11 file=&quot;images/A_happy&quot;]
[addto index=11 target=basic_layer zorder=10 pos=[400,120] opacity=255]
[sprite index=12 file=&quot;images/B_wordless&quot;]
[addto index=12 target=basic_layer zorder=10 pos=[640,120] opacity=255]

【凉子】[r]
抱歉，等很久了么？？[p]
【真由】[r]
啊，真是的，凉子你怎么那么慢？[p]

@quit
</code></pre>">*main
[sprite index=<span class="hljs-number">10</span> file=<span class="hljs-string">"images/BG32a_1280.jpg"</span>]
[addto index=<span class="hljs-number">10</span> target=basic_layer zorder=<span class="hljs-number">0</span> pos=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>] opacity=<span class="hljs-number">255</span>]
[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]

[sprite index=<span class="hljs-number">11</span> file=<span class="hljs-string">"images/A_happy"</span>]
[addto index=<span class="hljs-number">11</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">400</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]
[sprite index=<span class="hljs-number">12</span> file=<span class="hljs-string">"images/B_wordless"</span>]
[addto index=<span class="hljs-number">12</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">640</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]

【凉子】[r]
抱歉，等很久了么？？[p]
【真由】[r]
啊，真是的，凉子你怎么那么慢？[p]

@quit
</code></pre><p>运行一下试试看！</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-7.PNG" alt="立绘图片效果"></p><p>现在它看起来更像一个游戏了——除了我们的文字显示，它还有一点小小的问题，我们会在接下来的小节里修复这个问题。</p><h2 id="将文字作为精灵显示"><a name="将文字作为精灵显示" href="#将文字作为精灵显示"></a>将文字作为精灵显示</h2><p>有的时候，我们需要在文字框以外的地方使用文字，这就要用到<strong>文字精灵（TextSprite）</strong>。<br>下面，我们将演示如何使用文字精灵将人物的姓名显示在文字框上。</p><p>复制并替换<code>main.bkscr</code>的内容：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[sprite index=10 file=&quot;images/BG32a_1280.jpg&quot;]
[addto index=10 target=basic_layer zorder=0 pos=[0,0] opacity=255]
[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]

[sprite index=11 file=&quot;images/A_happy&quot;]
[addto index=11 target=basic_layer zorder=10 pos=[400,120] opacity=255]
[sprite index=12 file=&quot;images/B_wordless&quot;]
[addto index=12 target=basic_layer zorder=10 pos=[640,120] opacity=255]

[textsprite index=21 text=&quot;凉子&quot; size=24 color=0xffffff xinterval=3]
[anchor index=21 set=&quot;center&quot;]
[addto index=21 target=message_layer pos=[97,20]]
抱歉，等很久了么？？[p]

[textsprite index=21 text=&quot;真由&quot; size=24 color=0xffffff xinterval=3]
[anchor index=21 set=&quot;center&quot;]
[addto index=21 target=message_layer pos=[97,20]]
啊，真是的，凉子你怎么那么慢？[p]

美好的一天开始了[p]

@quit
</code></pre>">*main
[sprite index=<span class="hljs-number">10</span> file=<span class="hljs-string">"images/BG32a_1280.jpg"</span>]
[addto index=<span class="hljs-number">10</span> target=basic_layer zorder=<span class="hljs-number">0</span> pos=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>] opacity=<span class="hljs-number">255</span>]
[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]

[sprite index=<span class="hljs-number">11</span> file=<span class="hljs-string">"images/A_happy"</span>]
[addto index=<span class="hljs-number">11</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">400</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]
[sprite index=<span class="hljs-number">12</span> file=<span class="hljs-string">"images/B_wordless"</span>]
[addto index=<span class="hljs-number">12</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">640</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]

[textsprite index=<span class="hljs-number">21</span> text=<span class="hljs-string">"凉子"</span> size=<span class="hljs-number">24</span> color=<span class="hljs-number">0xffffff</span> xinterval=<span class="hljs-number">3</span>]
[anchor index=<span class="hljs-number">21</span> set=<span class="hljs-string">"center"</span>]
[addto index=<span class="hljs-number">21</span> target=message_layer pos=[<span class="hljs-number">97</span>,<span class="hljs-number">20</span>]]
抱歉，等很久了么？？[p]

[textsprite index=<span class="hljs-number">21</span> text=<span class="hljs-string">"真由"</span> size=<span class="hljs-number">24</span> color=<span class="hljs-number">0xffffff</span> xinterval=<span class="hljs-number">3</span>]
[anchor index=<span class="hljs-number">21</span> set=<span class="hljs-string">"center"</span>]
[addto index=<span class="hljs-number">21</span> target=message_layer pos=[<span class="hljs-number">97</span>,<span class="hljs-number">20</span>]]
啊，真是的，凉子你怎么那么慢？[p]

美好的一天开始了[p]

@quit
</code></pre><p><code>textsprite</code>指令是BKEngine的常用指令之一，作用是创建一个文字精灵，该精灵的用法与一般的精灵并无太大差别，仅在于内容的不同——一个是文字，一个是图像。任何精灵要想显示在屏幕上，都需要<code>addto</code>指令才能实现。<br><code>index</code>略去不讲，与<code>sprite</code>指令相同；<br><code>text</code>参数指定要显示的文字内容，<code>size</code>指定字号，<code>color</code>则是文字颜色。<code>xinterval</code>指令是说文字之间的横向间距（字间距），与此对应的还有<code>yinterval</code>，即行间距。</p><p><code>anchor</code>指令是确定精灵的「锚点」，锚点是精灵上的一个特定的坐标点，在执行<code>addto</code>指令时，锚点所处的位置就是<code>pos</code>参数指定的坐标。通过调整锚点，可以实现精灵相对于所在层的左、右对齐和居中等效果。<code>set</code>参数可接受坐标数组（如[0, 0]）也可接受数个内置的位置字符串，如“center”是将锚点设置在了精灵的正中心。<br>有关<code>anchor</code>的更多信息请查阅后续文档。</p><p><img src="C:\workspace\BKEngine-docs\markdown/../images/quickstart-8.PNG" alt="文字精灵效果"></p><p>运行一下，会发现姓名可以显示在黑色的姓名框区域了，但仍然有点小问题，即在显示最后一句话（旁白）的时候，本该没有姓名显示，那么如何从屏幕移除一个精灵呢？</p><h2 id="从屏幕移除精灵或文字精灵"><a name="从屏幕移除精灵或文字精灵" href="#从屏幕移除精灵或文字精灵"></a>从屏幕移除精灵或文字精灵</h2><p>移除精灵或文字精灵的方法是完全相同的，即使用<code>remove</code>指令。<br>在<code>美好的一天开始了[p]</code> 前插入一行：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>[remove index=21 delete=true]
</code></pre>">[remove index=<span class="hljs-number">21</span> <span class="hljs-keyword">delete</span>=<span class="hljs-literal">true</span>]
</code></pre><p>运行一下，姓名是不是自动删除了？下面我们讲解一下：<br><code>remove</code>指令的作用是从屏幕移除一个精灵（包括文字精灵），<code>index</code>参数指定精灵编号，<code>delete</code>指令是说在移除掉精灵后，是否从内存中删除这段数据。我们建议，若该精灵在remove后不会或很长时间后才会被再次addto，这种情况下建议设置<code>delete=true</code>。</p><h2 id="宏（macro）"><a name="宏（macro）" href="#宏（macro）"></a>宏（Macro）</h2><p>这一小节可能比较抽象，对没有编程基础的人来说不太好理解，你只要按照教程提示操作即可，在以后的使用中将会慢慢理解这个概念。<br>宏是一段特定的程序，使用它可以简化制作过程，减少很多重复的代码编写工作。</p><p>双击打开<code>macro.bkscr</code>，将内容替换为：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*register
//这之间写上要定义的宏或导入其他的宏文件
[macro name=&quot;namebox&quot; text]
[return]

//在下面写上宏的实现部分

*namebox
[textsprite index=21 text=text size=24 color=0xffffff xinterval=3]
[anchor index=21 set=&quot;center&quot;]
[addto index=21 target=message_layer pos=[97,20]]
@return
</code></pre>">*register
<span class="hljs-comment">//这之间写上要定义的宏或导入其他的宏文件</span>
[macro name=<span class="hljs-string">"namebox"</span> text]
[<span class="hljs-keyword">return</span>]

<span class="hljs-comment">//在下面写上宏的实现部分</span>

*namebox
[textsprite index=<span class="hljs-number">21</span> text=text size=<span class="hljs-number">24</span> color=<span class="hljs-number">0xffffff</span> xinterval=<span class="hljs-number">3</span>]
[anchor index=<span class="hljs-number">21</span> set=<span class="hljs-string">"center"</span>]
[addto index=<span class="hljs-number">21</span> target=message_layer pos=[<span class="hljs-number">97</span>,<span class="hljs-number">20</span>]]
@<span class="hljs-keyword">return</span>
</code></pre><p>双击打开<code>main.bkscr</code>，将内容替换为：（对比之前的代码，哪里修改了？）</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>*main
[sprite index=10 file=&quot;images/BG32a_1280.jpg&quot;]
[addto index=10 target=basic_layer zorder=0 pos=[0,0] opacity=255]
[textwindow file=&quot;ui/textwindow.png&quot; pos=[126,450] rect=[20,55,1008,231]]

[sprite index=11 file=&quot;images/A_happy&quot;]
[addto index=11 target=basic_layer zorder=10 pos=[400,120] opacity=255]
[sprite index=12 file=&quot;images/B_wordless&quot;]
[addto index=12 target=basic_layer zorder=10 pos=[640,120] opacity=255]

[namebox text=&quot;凉子&quot;]
抱歉，等很久了么？？[p]

[namebox text=&quot;真由&quot;]
啊，真是的，凉子你怎么那么慢？[p]

[remove index=21 delete=true]
美好的一天开始了[p]

@quit
</code></pre>">*main
[sprite index=<span class="hljs-number">10</span> file=<span class="hljs-string">"images/BG32a_1280.jpg"</span>]
[addto index=<span class="hljs-number">10</span> target=basic_layer zorder=<span class="hljs-number">0</span> pos=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>] opacity=<span class="hljs-number">255</span>]
[textwindow file=<span class="hljs-string">"ui/textwindow.png"</span> pos=[<span class="hljs-number">126</span>,<span class="hljs-number">450</span>] rect=[<span class="hljs-number">20</span>,<span class="hljs-number">55</span>,<span class="hljs-number">1008</span>,<span class="hljs-number">231</span>]]

[sprite index=<span class="hljs-number">11</span> file=<span class="hljs-string">"images/A_happy"</span>]
[addto index=<span class="hljs-number">11</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">400</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]
[sprite index=<span class="hljs-number">12</span> file=<span class="hljs-string">"images/B_wordless"</span>]
[addto index=<span class="hljs-number">12</span> target=basic_layer zorder=<span class="hljs-number">10</span> pos=[<span class="hljs-number">640</span>,<span class="hljs-number">120</span>] opacity=<span class="hljs-number">255</span>]

[namebox text=<span class="hljs-string">"凉子"</span>]
抱歉，等很久了么？？[p]

[namebox text=<span class="hljs-string">"真由"</span>]
啊，真是的，凉子你怎么那么慢？[p]

[remove index=<span class="hljs-number">21</span> <span class="hljs-keyword">delete</span>=<span class="hljs-literal">true</span>]
美好的一天开始了[p]

@quit
</code></pre><p>运行一下，效果应该与上一图完全一样。<br>通过宏，我们把本该三行才能实现的姓名显示效果替换为了一行。</p><h2 id="声音、音乐和音效"><a name="声音、音乐和音效" href="#声音、音乐和音效"></a>声音、音乐和音效</h2><p>许多视觉小说都需要音乐来渲染气氛。在BKE中，音乐有三种：背景音乐、音效、语音。分为三种并不是说它们本质上有什么区别，而是BKE处理它们的方式不同。让我们来看看BKE对于这三种不同音乐的处理方式：</p><ol>
<li>对于背景音乐，可以设置它的循环起始点，这意味着你可以直接截取音频文件的某一段作为背景音乐播放，而不用对其进行任何的处理。</li><li>背景音乐和语音都有自己默认的声音通道（channel），它们分别是是<code>bgm</code>和<code>voice</code>。</li><li>音效文件需要用户自行指定其播放的通道</li></ol><p>在工程目录下创建<code>sound</code>文件夹，下载<a href="../examples/tam-n16.ogg">背景音乐</a>和<a href="../examples/streets_afternoon.mp3">音效声音</a>，放入该文件夹，并在Creator中进行资源添加。<br>播放一个背景音乐：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>[bgm file=&quot;sound/tam-n16.ogg&quot; fadein=200 loop=true vol=100]
</code></pre>">[bgm file=<span class="hljs-string">"sound/tam-n16.ogg"</span> fadein=<span class="hljs-number">200</span> loop=<span class="hljs-literal">true</span> vol=<span class="hljs-number">100</span>]
</code></pre><p><code>bgm</code>指令用于播放背景音乐，<code>fadein</code>指令指定音量淡入的时间，这里指定200毫秒；<code>loop</code>参数确认该音乐是否循环播放，设置为<code>true</code>表示循环播放；<code>vol</code>为音量，0为静音，100为最大。</p><p>播放一个音效：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>[se file=&quot;sound/streets_afternoon.mp3&quot; channel=1 fadein=2000 loop=true vol=100]
</code></pre>">[se file=<span class="hljs-string">"sound/streets_afternoon.mp3"</span> channel=<span class="hljs-number">1</span> fadein=<span class="hljs-number">2000</span> loop=<span class="hljs-literal">true</span> vol=<span class="hljs-number">100</span>]
</code></pre><p><code>se</code>指令用于播放一个音效，<code>channel</code>用于指定播放通道，一个通道同一时间只能播放一个文件，不同通道可以同时播放。</p><p>播放语音：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>[voice file=&quot;文件名&quot; vol=100]
</code></pre>">[voice file=<span class="hljs-string">"文件名"</span> vol=<span class="hljs-number">100</span>]
</code></pre><p><code>voice</code>用于播放语音。</p><p>停止播放：</p><pre class="javascript hljs"><code class="javascript" data-origin="<pre><code class=&quot;javascript&quot;>[stop channel=1 fadeout=2000]
</code></pre>">[stop channel=<span class="hljs-number">1</span> fadeout=<span class="hljs-number">2000</span>]
</code></pre><p><code>stop</code>指令用于停止某一通道的播放。<code>channel</code>指定通道号，也可以使用<code>channel=bgm</code>或<code>channel=voice</code>停止背景音乐或语音播放；<code>fadeout</code>表示声音淡出的时间。</p><h2 id="尾声"><a name="尾声" href="#尾声"></a>尾声</h2><p>好了，现在你已经学会如何制作一个简单的视觉小说。</p><p>你可以参照文档和教程，继续学习有关分支跳转、自定义界面等更多功能和指令。</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
